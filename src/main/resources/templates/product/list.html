<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/index::dynamic(~{::main})}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<main class="row">
		<div th:each="p:${ITEMS_PAGE.content}" class="col-sm-4" style="margin-top: 20px;">
			<div class="card poly-item">
				<div class="card-header">
					<b th:text="${p.name}"></b>
				</div>
				<div class="card-body">
					<a th:href="@{|/product/detail/${p.id}|}"> 
						<img th:src="@{|/rest/upload/images/${p.image}|}" style="width: 100%; height: 200px;">
					</a>
				</div>
				<div class="card-footer">
					<b>$[[${p.price}]]</b>
					<button class="btn btn-success float-right"  th:attr="ng-click=@{|cart.add(${p.id})|}">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" 
						fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
						  <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
						</svg>
					</button>
				</div>
			</div>
		</div>
		
		
		<div class="col-sm-12" style="margin-top: 20px;">
			<ul class="pagination float-right">
			    <li class="page-item">
			    	<a class="page-link" th:href="@{|?p=0|}">First</a>
			    </li>
			    <li class="page-item">
			      <a class="page-link" th:href="@{|?p=${ITEMS_PAGE.number - 1}|}">Back</a>
			    </li>
			    <li class="page-item">
			    	<div class="btn btn-default" th:text="${ITEMS_PAGE.number + 1} + ' - of - ' + ${ITEMS_PAGE.totalPages}">
			    	</div>
			    </li>
			    <li class="page-item">
			    	<a class="page-link" 
			    		th:if="${#request.getParameter('search') == null and #request.getParameter('search') == ''}"  
			    		th:href="@{|?p=${ITEMS_PAGE.number + 1}|}">Next</a>
			    	<a class="page-link" 
			    		th:unless="${#request.getParameter('search') == null and #request.getParameter('search') == ''}"  
			    		th:href="@{|?p=${ITEMS_PAGE.number + 1}|}">Next</a>
			    </li>
			    <li class="page-item">
			      <a class="page-link" th:href="@{|?p=${ITEMS_PAGE.totalPages - 1}|}">Last</a>
		    	</li>
		  </ul>
		</div>
	</main>

	
	
	
	
</body>
</html>